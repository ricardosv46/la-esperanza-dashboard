import{r as x,a6 as y,a1 as E,u as v,b as i,j as s,C as P,F as h,B as F,U as L,H as S,G as I,a7 as n,c as z,T as j,ar as r}from"./index.b32bce0f.js";import{u as H}from"./useForm.c271e1a4.js";import{I as T}from"./InputImage.9a98cd58.js";import{u as k}from"./useEventos.83fcadbc.js";import"./useAllImagenes.696f7c03.js";import"./chakra-ui-spinner.esm.cdc97e94.js";const t={titulo:"",descripcionCorta:"",descripcionLarga:"",terminosCondiciones:"",direccion:"",ubicacion:"",fecha:"",hora:"",fechaInicial:"",horaInicial:"",fechaFinal:"",horaFinal:"",eventoId:""},A=({titulo:p,descripcionCorta:u,descripcionLarga:f,terminosCondiciones:e,direccion:b,ubicacion:m,fecha:d,hora:g,fechaInicial:o,horaInicial:C,fechaFinal:c,horaFinal:l})=>{const a={};return r(p)&&(a.titulo="Este campo es obligatorio"),r(u)&&(a.descripcionCorta="Este campo es obligatorio"),r(f)&&(a.descripcionLarga="Este campo es obligatorio"),r(e)&&(a.terminosCondiciones="Este campo es obligatorio"),r(b)&&(a.direccion="Este campo es obligatorio"),r(m)&&(a.ubicacion="Este campo es obligatorio"),r(d)&&(a.fecha="Este campo es obligatorio"),r(g)&&(a.hora="Este campo es obligatorio"),r(o)&&(a.fechaInicial="Este campo es obligatorio"),r(C)&&(a.horaInicial="Este campo es obligatorio"),r(c)&&(a.fechaFinal="Este campo es obligatorio"),r(l)&&(a.horaFinal="Este campo es obligatorio"),console.log({error:a}),a},U=()=>{const[p,u]=x.exports.useState({}),{state:f}=y(),e=f.evento,{updateEvento:b}=k({feriaId:1,estado:null}),m=E();console.log(e);const d=v();t.titulo=e.titulo,t.descripcionCorta=e.descripcionCorta,t.descripcionLarga=e.descripcionLarga,t.fecha=e.fecha,t.fechaFinal=e.fechaFinal,t.fechaInicial=e.fechaInicial,t.hora=e.hora,t.horaFinal=e.horaFinal,t.horaInicial=e.horaInicial,t.terminosCondiciones=e.terminosCondiciones,t.direccion=e.direccion,t.ubicacion=e.ubicacion,t.eventoId=e.eventoId;const{values:g,...o}=H({initialValues:t,validate:A}),C=async()=>{const{...c}=g;b({...c,imagenPrincipal:Number(p.id)}).then(l=>{l!=null&&l.ok?d({title:"Evento actualizar Correctamente",position:"top-right",isClosable:!0,status:"success"}):d({title:"Evento actualizar Inrrectamente",position:"top-right",isClosable:!0,status:"error"}),m(-1)})};return x.exports.useEffect(()=>{var c,l,a;e&&u({id:(c=e.imagenPrincipal.id)!=null?c:"",url:(l=e.imagenPrincipal.url)!=null?l:"",titulo:(a=e.imagenPrincipal.titulo)!=null?a:""})},[e]),i("form",{onSubmit:o.onSubmit(C),children:s(P,{maxWidth:"1930px",p:"10",children:[s(h,{flexDir:"column",children:[i(F,{maxWidth:"full",children:s(h,{alignItems:"center",columnGap:4,children:[i(h,{justifyContent:"center",alignItems:"center",padding:1.5,bg:"primary.500",rounded:"full",cursor:"pointer",_dark:{bg:"#F0AC42",color:"primary.500"},onClick:()=>m(-1),children:i(L,{color:"white"})}),i(S,{as:"h1",fontSize:22,children:"Actualizar Evento"})]})}),s(F,{maxWidth:"full",children:[i(I,{mt:5,templateColumns:{base:"repeat(1, 1fr)"},gap:6,children:i(n,{type:"text",label:"Titulo",...o.inputProps("titulo")})}),s(I,{mt:5,templateColumns:{base:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},gap:6,children:[i(n,{type:"text",label:"Direccion",...o.inputProps("direccion")}),i(n,{type:"text",label:"Ubicacion",...o.inputProps("ubicacion")}),i(n,{type:"date",label:"Fecha",...o.inputProps("fecha")}),i(n,{type:"time",label:"Hora",...o.inputProps("hora")}),i(n,{type:"date",label:"Fecha Inicial",...o.inputProps("fechaInicial")}),i(n,{type:"date",label:"Fecha Final",...o.inputProps("fechaFinal")}),i(n,{type:"time",label:"Hora Inicial",...o.inputProps("horaInicial")}),i(n,{type:"time",label:"Hora Final",...o.inputProps("horaFinal")})]}),s(I,{mt:5,templateColumns:{base:"repeat(1, 1fr)"},gap:6,children:[i(n,{type:"text",label:"Descripci\xF3n Corta",...o.inputProps("descripcionCorta"),h:"150px"}),i(n,{type:"text",label:"Descripci\xF3n Larga",...o.inputProps("descripcionLarga"),h:"150px"}),i(n,{type:"text",label:"Terminos Condiciones",...o.inputProps("terminosCondiciones"),h:"200px"}),i(T,{label:" Imagen Principal",onChange:c=>u(c),value:p})]})]})]}),i(h,{justifyContent:"center",py:14,children:i(z,{type:"submit",w:96,py:7,colorScheme:"primary",_dark:{bg:"#F0AC42"},children:i(j,{fontWeight:"bold",fontSize:"xl",children:"Actualizar Evento"})})})]})})};export{U as default};
