import{a2 as f,a1 as y,u as A,b as e,C as T,j as o,F as l,B as C,H as b,T as p,c as I,I as R,g as k,a3 as j}from"./index.b32bce0f.js";import{u as B}from"./useFeria.b67294c3.js";import{S}from"./chakra-ui-spinner.esm.cdc97e94.js";import{T as F,a as v,b as z,c as x,d as i,e as D,f as n}from"./chakra-ui-table.esm.0e644781.js";const E=()=>{const[d,{loading:t}]=f();return{loadingRestarAsientos:t,restartAsientos:async({feriaId:h=1})=>{var c,s,u;try{const r=await d({variables:{feriaId:h}});if((c=r.data)!=null&&c.RestartAsientos)return{ok:!0,data:(s=r.data)==null?void 0:s.RestartAsientos}}catch(r){return{ok:!1,error:(u=r==null?void 0:r.graphQLErrors[0])==null?void 0:u.debugMessage}}}}},q=()=>{var r,m;const d=y(),{db:t,loading:g}=B(),{restartAsientos:h,loadingRestarAsientos:c}=E(),s=A();return e(T,{maxWidth:"1930px",p:"10",children:o(l,{flexDir:"column",children:[o(C,{maxWidth:"full",children:[e(b,{as:"h1",fontSize:22,children:"Abonados"}),e(p,{color:"blackAlpha.600",_dark:{color:"gray.400"},fontSize:"14px",mt:3,children:"Desde aqu\xED podr\xE1s visualizar la informaci\xF3n de todos los Abonados."})]}),e(l,{justifyContent:"flex-end",alignItems:"center",mt:5,children:e(I,{colorScheme:"primary",variant:"solid",type:"button",onClick:async()=>{const a=await h({});a!=null&&a.ok?s({title:a==null?void 0:a.data,position:"top-right",isClosable:!0,status:"success"}):s({title:a==null?void 0:a.error,position:"top-right",isClosable:!0,status:"error"})},disabled:c,children:e(p,{lineHeight:0,children:"Reiniciar Butacas"})})}),g?e(l,{justifyContent:"center",alignItems:"center",h:"xl",children:e(S,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"primary.500",size:"xl"})}):e(F,{mt:10,children:o(v,{colorScheme:"gray",children:[e(z,{fontWeight:"black",children:o(x,{children:[e(i,{color:"gray.400",children:"Imagen principal"}),e(i,{color:"gray.400",children:"Titulo"}),e(i,{color:"gray.400",children:"Descuento"}),e(i,{textAlign:"center",color:"gray.400",children:"Fecha"}),e(i,{textAlign:"center",color:"gray.400",children:"Hora"}),e(i,{textAlign:"center",color:"gray.400",children:"Acciones"})]})}),e(D,{children:o(x,{children:[e(n,{children:e(R,{boxSize:"50px",objectFit:"contain",src:(m=(r=t==null?void 0:t.imagenPrincipal)==null?void 0:r.url)!=null?m:"",alt:"imgs"})}),e(n,{children:t==null?void 0:t.titulo}),e(n,{children:t==null?void 0:t.descuento}),e(n,{children:t==null?void 0:t.fechaInicial}),e(n,{children:t==null?void 0:t.hora}),e(n,{children:e(l,{justifyContent:"center",alignItems:"center",gap:5,children:e(k,{"aria-label":"editar",onClick:()=>d("/home/editar-abonados/",{state:{abonados:t}}),children:e(j,{w:5,h:5})})})})]},t==null?void 0:t.feriaId)})]})})]})})};export{q as default};
