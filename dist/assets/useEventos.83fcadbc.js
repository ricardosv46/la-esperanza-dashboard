import{am as Q,an as j,ao as z,ap as B,aq as F}from"./index.b32bce0f.js";const L=({feriaId:h,estado:g})=>{var U,M;const{data:i,loading:w,refetch:s}=Q({fetchPolicy:"network-only",variables:{feriaId:h,estado:g}}),C=(M=(U=i==null?void 0:i.GetAllEventos)==null?void 0:U.data)!=null?M:[],[m,{loading:A}]=j(),D=async({titulo:e,descripcionCorta:r,descripcionLarga:a,terminosCondiciones:o,direccion:t,ubicacion:l,fecha:c,hora:v,imagenPrincipal:E,fechaInicial:p,horaInicial:f,fechaFinal:k,horaFinal:y})=>{var d,u;try{const n=await m({variables:{input:{titulo:e,descripcionCorta:r,descripcionLarga:a,terminosCondiciones:o,direccion:t,ubicacion:l,fecha:c,hora:v,imagenPrincipal:E,fechaInicial:p,horaInicial:f,fechaFinal:k,horaFinal:y}}});return s(),(d=n.data)!=null&&d.CreateEvento?{ok:!0}:{ok:!1,error:(u=n.data)==null?void 0:u.CreateEvento}}catch{return{ok:!1,error:"Hubo un error"}}},[H,{loading:G}]=z(),q=async({eventoId:e,titulo:r,descripcionCorta:a,descripcionLarga:o,terminosCondiciones:t,direccion:l,ubicacion:c,fecha:v,hora:E,imagenPrincipal:p,fechaInicial:f,horaInicial:k,fechaFinal:y,horaFinal:d})=>{var u,n;try{const b=await H({variables:{input:{eventoId:e,titulo:r,descripcionCorta:a,descripcionLarga:o,terminosCondiciones:t,direccion:l,ubicacion:c,fecha:v,hora:E,imagenPrincipal:p,fechaInicial:f,horaInicial:k,fechaFinal:y,horaFinal:d}}});return s(),(u=b.data)!=null&&u.UpdateEvento?{ok:!0}:{ok:!1,error:(n=b.data)==null?void 0:n.UpdateEvento}}catch{return{ok:!1,error:"Hubo un error"}}},[x]=B(),I=async e=>{try{return await x({variables:{eventoId:e}}),s(),{ok:!0,error:null}}catch{return{ok:!1,error:"Error al eliminar el evento"}}},[P]=F();return{db:C,loading:w,refetch:s,createEvento:D,loadingCreate:A,loadingUpdate:G,updateEvento:q,deleteEvento:I,updateEstadoEvento:async(e,r)=>{var a,o;try{const t=await P({variables:{input:{eventoId:e,estado:r==="Activado"?"Desactivado":"Activado"}}});return s(),(a=t.data)!=null&&a.UpdateEstadoEvento?{ok:!0}:{ok:!1,error:(o=t.data)==null?void 0:o.UpdateEstadoEvento}}catch{return{ok:!1,error:"Hubo un error"}}}}};export{L as u};
